---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
	title: string;
	description?: string;
    canonicalUrl?: string;
    ogUrl?: string;
    ogImage?: string;
    ogType?: string;
}

const { 
    title, 
    description, 
    canonicalUrl = "https://corduroy.co.jp/", 
    ogUrl = "https://corduroy.co.jp/", 
    ogImage = "https://corduroy.co.jp/assets/images/ogp.png",
    ogType = "website"
} = Astro.props;
---

<!doctype html>
<html lang="ja">
	<head>
		<!-- Google tag (gtag.js) -->
        <script is:inline async src="https://www.googletagmanager.com/gtag/js?id=G-GTLHM3EM7C"></script>
        <script is:inline>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());

            gtag('config', 'G-GTLHM3EM7C');
        </script>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/x-icon" href="/assets/images/faviconC.ico" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<meta name="description" content={description || "紹介限定・長期前提で伴走するAIパートナー。AI勉強会・顧問・システム開発で、想いに寄り添いながら小さく試して広げます。"} />
		<link rel="canonical" href={canonicalUrl} />
        
        <meta property="og:type" content={ogType}>
        <meta property="og:url" content={ogUrl}>
        <meta property="og:title" content={title}>
        <meta property="og:description" content={description || "紹介限定・長期前提で伴走するAIパートナー。AI勉強会・顧問・システム開発で、想いに寄り添いながら小さく試して広げます。"}>
        <meta property="og:image" content={ogImage}>
        <meta property="og:locale" content="ja_JP">
        <meta property="og:site_name" content="株式会社コールテン">

        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content={ogUrl}>
        <meta name="twitter:title" content={title}>
        <meta name="twitter:description" content={description || "紹介限定・長期前提で伴走するAIパートナー。AI勉強会・顧問・システム開発で、想いに寄り添いながら小さく試して広げます。"}>
        <meta name="twitter:image" content={ogImage}>

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
        
        <slot name="head" />
	</head>
	<body>
        <Header />
		<slot />
        <Footer />
        <script>
            // --- Scroll Fade-in Animation ---
            const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  entry.target.classList.add('is-visible');
                }
              });
            }, { 
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            document.querySelectorAll('.fade-up').forEach(el => {
              observer.observe(el);
            });
        </script>
	</body>
</html>
<style is:global>
    @font-face {
      font-family: 'CraftMincho';
      src: url('/assets/fonts/craftmincho.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root {
      /* Core Palette - Deep & Rich */
      --green: #0b3326;
      --mint: #eef7f3;
      --mint-dark: #c8e1d6;
      --cream: #fbf9f5;
      --white: #ffffff;

      /* Accents */
      --accent: #d4a04d;
      --orange: #f2bd78;

      /* Text */
      --text: #1a2e28;
      --text-light: #486358;
      --ink: #052018;

      /* UI Elements */
      --line: #dbebe3;
      --line-strong: #bfd6cc;
      --sea: #16614e;

      /* Effects */
      --shadow-sm: 0 2px 4px rgba(5, 32, 24, 0.04), 0 1px 2px rgba(5, 32, 24, 0.02);
      --shadow-md: 0 8px 16px rgba(5, 32, 24, 0.06), 0 4px 8px rgba(5, 32, 24, 0.03);
      --shadow-lg: 0 24px 48px rgba(5, 32, 24, 0.08), 0 12px 24px rgba(5, 32, 24, 0.04);
      --glass: rgba(255, 255, 255, 0.8);
      --glass-border: rgba(255, 255, 255, 0.4);
    }

    html {
      scroll-behavior: smooth
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: "Noto Sans JP", "Space Grotesk", "Helvetica Neue", Arial, sans-serif;
      color: var(--text);
      background: var(--cream);
    }
    
    /* Global Typography */
    h1, h2, h3, h4 {
        margin: 0;
        color: var(--ink);
        font-family: 'CraftMincho', serif;
        font-feature-settings: "palt";
        letter-spacing: 0.05em;
    }
    
    a {
      text-decoration: none;
      color: inherit;
      transition: color 0.2s ease;
    }

    img {
      max-width: 100%;
      display: block;
    }
    
    .container {
      max-width: 1240px;
      margin: 0 auto;
      padding: 0 32px;
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 16px 36px;
      border-radius: 100px;
      border: none;
      background: var(--sea);
      color: #fff;
      font-weight: 700;
      font-size: 15px;
      box-shadow: 0 4px 12px rgba(22, 97, 78, 0.25);
      letter-spacing: 0.05em;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(22, 97, 78, 0.35);
      background: #0f4d3d;
      filter: none;
    }
    
    /* Common Utilities if needed */
    .fade-up {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .fade-up.is-visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>
